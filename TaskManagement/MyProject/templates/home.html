{% extends 'header.html' %}
{% block title %}Home {% endblock %}
{% load static %}
{% block cssLink %}<link rel="stylesheet" href="{% static 'css/home.css' %}">{% endblock %}

{% block header %}
{% if isAuthenticated %}
hi {{instance.name}}
{{instance.password}}


<div class="create-button1">
  <button onclick="showCreateButtons()">Create New Program</button>
</div>

<div class="create-button">
  <button onclick="createIndividualTask()">Individual Tasks</button>
  <input type="text" placeholder="Enter task for individual" id="individualTaskText"/>
  <input type="text" placeholder="Enter task for group" id="groupTaskText"/>
  <button onclick="createGroupTask()">Group Tasks</button>
</div>

{% else %}

<div id="col" >
  <div>
    <div id="home-div-p" >
      <p class="switch" id="create" >
        Create tasks,
      </p>
      <p class="switch" id="manage" >
        Manage them
      </p>
      <p class="switch"  id="assign" >
        Assign!
      </p>
    </div>

    <div>
      <a href="/account/login" class="btn" id="home-div-a" >Get started</a>
    </div>
  </div>

  <img src="{% static 'resources/bg.png' %}" />
</div>

<script>
  const c = document.getElementById("create"), m = document.getElementById("manage"), a = document.getElementById("assign");
  function styleFn() {
    setTimeout(() => {
      a.style.color = "black";
      a.style.opacity = "0.1";
      c.style.color = "#06D6A0";
      c.style.opacity = "1";
    }, 1000);

    setTimeout(() => {
      c.style.color = "black";
      c.style.opacity = "0.1";
      m.style.color = "#FF5E5B";
      m.style.opacity = "1";
    }, 2000);

    setTimeout(() => {
      m.style.color = "black";
      m.style.opacity = "0.1";
      a.style.color = "#118AB2";
      a.style.opacity = "1";
    }, 3000);

    setTimeout(() => {
      styleFn();
    }, 3000);
  }

  styleFn();
</script>
{% endif %}

{% if messages %}
    {% for message in messages %}
        <div style="
        width: 25vw;
        font-size: x-large;
        background-color: white;
        border-left: 4px solid rgb(0, 38, 255);
        border-radius: 5px;
        box-shadow: 0 0 10px 2px #d9d9d9;
        padding-left: 1vw;
        position: absolute;
        top: 10vh;
        left: -30vw;
        transition: left 700ms ease;
        " id="err-msg" >
            {{message}}
        </div>

        <script>
          setTimeout(() => {
            document.getElementById("err-msg").style.left = "3vw";
            setTimeout(() => {
              document.getElementById("err-msg").hidden = true;
            }, 2500);
          }, 500);
        </script>
    {% endfor %}
{% endif %}

{% endblock %}
